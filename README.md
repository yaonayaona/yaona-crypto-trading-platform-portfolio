# AIアシステッド開発による個人向け暗号資産取引プラットフォーム

**プログラミング未経験から4ヶ月。ChatGPTをはじめLLMとの対話のみで構築した、Bybitにおける取引戦略開発からbot本番運用までをカバーするフルスタック取引システムです。**

---

### 💡 プロジェクト概要

本プロジェクトは、一個人が暗号資産の自動売買を行うために必要な全ての機能を統合したプラットフォームです。企画、設計、開発、インフラ構築の全てを、会社員としての業務の傍ら4ヶ月(4/16~8/16)という短期間で独力でベータ版を完成させました。

最大の特徴は、私自身がプログラミング未経験であったため、**実現したい機能を明確に定義し、それを達成するための技術要素をChatGPTとの対話を通じて具体化・実装していく**という「AIアシステッド開発」の手法を全面的に採用した点にあります。

**[▶️ 実際の動作デモはこちら（YouTube）](ここにデモ動画のURLを挿入)**

---

### 🏛️ システムアーキテクチャ

本システムは、責務ごとに分割された複数のコンポーネントが連携して動作するマイクロサービス的なアーキテクチャを採用しています。これにより、各機能の独立性が保たれ、メンテナンス性と拡張性に優れた設計となっています。

**(ここにアーキテクチャ図を挿入します)**

---

### ✨ 主な機能

-   **Webベースの戦略開発UI**:
    -   ブラウザ上で取引条件（Predicate）を組み合わせ、視覚的に戦略を構築可能。
    -   作成した戦略はJSON形式で保存・再利用できます。
-   **高速な並列処理バックテストエンジン**:
    -   複数CPUコアを活用し、多数の銘柄や長期間の戦略検証を高速に実行。
    -   エクイティカーブやドローダウンをグラフで視覚的に評価できます。
-   **ワンクリック・デプロイ機能**:
    -   バックテストで検証済みの有望な戦略を、ボタン一つで稼働中の本番Botに安全に適用。
-   **リアルタイム取引Bot**:
    -   WebSocketで市場データをリアルタイムに受信し、24時間365日、自動で取引を実行。
    -   システムの再起動時にも取引状態を失わない永続化の仕組みを備えています。
-   **堅牢なデータパイプライン**:
    -   Bybit APIから価格・OIデータを自動収集し、時系列データベース（TimescaleDB）に保存する常駐プロセス。
    -   APIのレート制限やネットワークエラーを自動で検知・リトライし、データの欠損を防ぎます。
-   **リスク管理・監視ダッシュボード**:
    -   VPSのCPU/メモリ使用率や、Botの稼働状況をブラウザからリアルタイムに監視。
    -   **取引の緊急停止・再開**を遠隔で安全に操作可能。

-本システムは、**「戦略のアイデアを練り、テストする」フェーズと、「その戦略を市場で24時間動かす」**フェーズを、Web UIを通じてシームレスに繋ぐことができます。
1. 【戦略開発】 Web UIによる高速な戦略開発とバックテスト
まず、ブラウザ上の戦略ビルダーで「EMAがクロスしたら」「RSIが一定範囲なら」といった取引条件を自由に組み合わせ、エントリーロジックを視覚的に構築します。
TP/SL率やテスト期間、対象銘柄などを設定し、「バックテスト実行」ボタンをクリックします。
すると、バックテストエンジンがデータベース (TimescaleDB) から過去データを読み込み、複数CPUコアで高速に並列処理で検証を実行します。
検証が完了すると、エクイティカーブや最大ドローダウンといった詳細なパフォーマンスが画面に表示され、戦略の有効性を客観的に評価できます。
有望な戦略が見つかれば、名前をつけて保存し、いつでも再利用できます。
2. 【本番運用】 ワンクリックでの戦略適用と24時間自動取引
バックテストで有望だった戦略を、Web UIから**「戦略を採用」ボタン一つで、稼働中の本番Botに安全にデプロイ**します。
デプロイされると、本番Bot (yaona_short_v1.py) はcronにより定期的に起動し、採用された戦略 (active.json) に基づいて取引チャンスを探します。
エントリーシグナルが発生すると、リスク管理モジュール (risk.py) がウォレット残高から適切な注文サイズを計算し、Bybitへ指値注文を出します。
注文が約定すると、WebSocketリスナー (ws_listener.py) がそれを即座に検知。ポジション監視プロセス (position_monitor.py) がTP/SL注文を自動で発注し、Discordに「エントリーしました」と通知します。
その後、ポジションがTP/SLにかかって決済されると、その結果（損益、保有時間など）もリアルタイムでDiscordに通知されます。
これらの取引は、リスク制御システム (risk_control.py) によって常時監視されており、設定された連敗回数や1日の最大損失額を超えると、新規エントリーが自動的に停止され、資産が保護されます。
3. 【監視・制御】 ダッシュボードによるリモート運用
Webダッシュボード (index.html) からは、VPSの稼働状況やBotの健全性をリアルタイムで確認できます。
市場の急変時などには、ダッシュボードから**「緊急停止」**ボタンを押すことで、全てのポジションを即座に手仕舞いし、新規エントリーを停止させるといった遠隔操作も可能です。
---

### 🛠️ 技術スタック

-   **バックエンド**: Python, FastAPI, Flask, Pandas, NumPy, SQLAlchemy
-   **フロントエンド**: HTML, CSS, JavaScript (Vanilla JS)
-   **データベース**: TimescaleDB (PostgreSQL)
-   **インフラ**: VPS (Linux), systemd, cron, Nginx
-   **開発補助**: **ChatGPT-4o/o3/5  (仕様具体化・コーディング・デバッグ支援)**, Gemini, Claude他もコーディング時に併用

---

### 📁 コードサンプル

本プロジェクトの完全なソースコードは、取引戦略という知的財産を含むため非公開としておりますが、システムの設計思想と技術力を示すいくつかのコンポーネントを以下に示します。

-   **[データパイプライン (`incremental_save_all.py`)](./samples/incremental_save_all.py)**: 並列処理、APIエラーハンドリング、高速なDB書き込みなど、堅牢なデータ収集基盤の実装例です。
-   **[戦略コンパイラ (`strategy_builder.py`)](./samples/strategy_builder.py)**: JSON形式の宣言的なルールから、実行可能なPythonの戦略関数を動的に生成する、本システムのコアとなるコンポーネントです。

---

### 🔐 知的財産について

本プロジェクトの完全なソースコードはプライベートリポジトリで厳重に管理しております。面接の過程でご要望がありましたら、限定的なアクセス権の付与、または画面共有でのコードウォークスルーが可能です。
